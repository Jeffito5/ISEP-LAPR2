<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1089px" preserveAspectRatio="none" style="width:1759px;height:1089px;" version="1.1" viewBox="0 0 1759 1089" width="1759px" zoomAndPan="magnify"><defs><filter height="300%" id="f13y98r5y3gfvb" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="477.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="303.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="683.8516"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="324.3594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="881.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="881.5" y="567.3203"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="238.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="881.5" y="712.9844"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1082.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="74.4297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="265.0938"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="123.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="407.7891"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="503.1875"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="596.4531"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="209.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="742.1172"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="779.25"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="851.3828"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="923.5156"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="35.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1390" y="304.2266"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="51" x2="51" y1="88.2969" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="669.5" x2="669.5" y1="88.2969" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="886.5" x2="886.5" y1="88.2969" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1087" x2="1087" y1="88.2969" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1206" x2="1206" y1="88.2969" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1395" x2="1395" y1="305.7422" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1562.5" x2="1562.5" y1="88.2969" y2="1005.6484"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1699.5" x2="1699.5" y1="88.2969" y2="1005.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="5" y="84.9951">Receptionist</text><ellipse cx="51.5" cy="15" fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,23 L51.5,50 M38.5,31 L64.5,31 M51.5,50 L38.5,65 M51.5,50 L64.5,65 " fill="none" filter="url(#f13y98r5y3gfvb)" style="stroke:#A80036;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="87" x="5" y="1017.6436">Receptionist</text><ellipse cx="51.5" cy="1030.9453" fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" rx="8" ry="8" style="stroke:#A80036;stroke-width:2.0;"/><path d="M51.5,1038.9453 L51.5,1065.9453 M38.5,1046.9453 L64.5,1046.9453 M51.5,1065.9453 L38.5,1080.9453 M51.5,1065.9453 L64.5,1080.9453 " fill="none" filter="url(#f13y98r5y3gfvb)" style="stroke:#A80036;stroke-width:2.0;"/><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="605.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="612.5" y="72.9951">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="605.5" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="110" x="612.5" y="1024.6436">RegisterClientUI</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="178" x="795.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="802.5" y="72.9951">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="178" x="795.5" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="164" x="802.5" y="1024.6436">RegisterClientController</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="1046" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1053" y="72.9951">Company</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="1046" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="65" x="1053" y="1024.6436">Company</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1139" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1146" y="72.9951">store ClientStore</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="130" x="1139" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="116" x="1146" y="1024.6436">store ClientStore</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1356" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1363" y="1024.6436">c : Client</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="149" x="1486.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="1493.5" y="72.9951">clientDto: ClientDto</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="149" x="1486.5" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="135" x="1493.5" y="1024.6436">clientDto: ClientDto</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1649.5" y="53"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1656.5" y="72.9951">AuthFacade</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="96" x="1649.5" y="1004.6484"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="82" x="1656.5" y="1024.6436">AuthFacade</text><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="119.4297"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="477.0234" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="177.6953"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="303.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="664.5" y="683.8516"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="324.3594" style="stroke:#A80036;stroke-width:1.0;" width="10" x="881.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="58.2656" style="stroke:#A80036;stroke-width:1.0;" width="10" x="881.5" y="567.3203"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="238.5313" style="stroke:#A80036;stroke-width:1.0;" width="10" x="881.5" y="712.9844"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1082.5" y="206.8281"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="74.4297" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="265.0938"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="123.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="407.7891"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="503.1875"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="29.1328" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="596.4531"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="209.3984" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1201" y="742.1172"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="779.25"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="851.3828"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1206" y="923.5156"/><rect fill="#FFFFFF" filter="url(#f13y98r5y3gfvb)" height="35.2969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1390" y="304.2266"/><polygon fill="#A80036" points="652.5,115.4297,662.5,119.4297,652.5,123.4297,656.5,119.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="658.5" y1="119.4297" y2="119.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58.5" y="114.3638">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="104" x="71.5" y="114.3638">starts new client</text><polygon fill="#A80036" points="62.5,144.5625,52.5,148.5625,62.5,152.5625,58.5,148.5625" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="668.5" y1="148.5625" y2="148.5625"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="68.5" y="143.4966">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="576" x="81.5" y="143.4966">request client data (i.e. ccn, nhsNumber, birthDate, sex, TIN, phoneNumber, email, name)</text><polygon fill="#A80036" points="652.5,173.6953,662.5,177.6953,652.5,181.6953,656.5,177.6953" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="658.5" y1="177.6953" y2="177.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="58.5" y="172.6294">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="137" x="71.5" y="172.6294">types requested data</text><polygon fill="#A80036" points="869.5,202.8281,879.5,206.8281,869.5,210.8281,873.5,206.8281" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="674.5" x2="875.5" y1="206.8281" y2="206.8281"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="681.5" y="201.7622">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="694.5" y="201.7622">b = createClient(clientDTO)</text><polygon fill="#A80036" points="1075.5,231.9609,1085.5,235.9609,1075.5,239.9609,1079.5,235.9609" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="891.5" x2="1081.5" y1="235.9609" y2="235.9609"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="898.5" y="230.895">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="154" x="911.5" y="230.895">store = getClientStore()</text><polygon fill="#A80036" points="1189,261.0938,1199,265.0938,1189,269.0938,1193,265.0938" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="891.5" x2="1195" y1="265.0938" y2="265.0938"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="898.5" y="260.0278">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="170" x="911.5" y="260.0278">c = createClient(clientDto)</text><polygon fill="#A80036" points="1344,290.2266,1354,294.2266,1344,298.2266,1348,294.2266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1211" x2="1350" y1="294.2266" y2="294.2266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1218" y="289.1606">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="108" x="1231" y="289.1606">create(clientDto)</text><rect fill="#FEFECE" filter="url(#f13y98r5y3gfvb)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="74" x="1356" y="273.0938"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="60" x="1363" y="293.0889">c : Client</text><polygon fill="#A80036" points="1551,335.5234,1561,339.5234,1551,343.5234,1555,339.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1395" x2="1557" y1="339.5234" y2="339.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="1402" y="334.4575">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="126" x="1415" y="334.4575">name = getName()</text><path d="M1298,352.5234 L1298,377.5234 L1655,377.5234 L1655,362.5234 L1645,352.5234 L1298,352.5234 " fill="#FBFB77" filter="url(#f13y98r5y3gfvb)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M1645,352.5234 L1645,362.5234 L1655,362.5234 L1645,352.5234 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="336" x="1304" y="369.5903">several interaction to extract data from DTO omitted</text><polygon fill="#A80036" points="1189,403.7891,1199,407.7891,1189,411.7891,1193,407.7891" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="891.5" x2="1195" y1="407.7891" y2="407.7891"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="9" x="898.5" y="402.7231">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="911.5" y="402.7231">validateClient(c)</text><polygon fill="#A80036" points="1383,432.9219,1393,436.9219,1383,440.9219,1387,436.9219" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1211" x2="1389" y1="436.9219" y2="436.9219"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1218" y="431.856">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="120" x="1240" y="431.856">email = getEmail()</text><polygon fill="#A80036" points="1687.5,462.0547,1697.5,466.0547,1687.5,470.0547,1691.5,466.0547" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1211" x2="1693.5" y1="466.0547" y2="466.0547"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1218" y="460.9888">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="275" x="1240" y="460.9888">userExists = authFacade.existsUser(email)</text><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1216" x2="1258" y1="495.1875" y2="495.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1258" x2="1258" y1="495.1875" y2="508.1875"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1217" x2="1258" y1="508.1875" y2="508.1875"/><polygon fill="#A80036" points="1227,504.1875,1217,508.1875,1227,512.1875,1223,508.1875" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1223" y="490.1216">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="1245" y="490.1216">!store.contains(c)</text><polygon fill="#A80036" points="869.5,563.3203,879.5,567.3203,869.5,571.3203,873.5,567.3203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="674.5" x2="875.5" y1="567.3203" y2="567.3203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="681.5" y="562.2544">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="78" x="703.5" y="562.2544">showClient()</text><polygon fill="#A80036" points="1189,592.4531,1199,596.4531,1189,600.4531,1193,596.4531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="891.5" x2="1195" y1="596.4531" y2="596.4531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="898.5" y="591.3872">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="85" x="920.5" y="591.3872">showClient(c)</text><polygon fill="#A80036" points="1383,621.5859,1393,625.5859,1383,629.5859,1387,625.5859" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="1206" x2="1389" y1="625.5859" y2="625.5859"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1213" y="620.52">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="62" x="1235" y="620.52">c.toString</text><polygon fill="#A80036" points="62.5,650.7188,52.5,654.7188,62.5,658.7188,58.5,654.7188" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="668.5" y1="654.7188" y2="654.7188"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="68.5" y="649.6528">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="269" x="90.5" y="649.6528">shows the data and requests confirmation</text><polygon fill="#A80036" points="652.5,679.8516,662.5,683.8516,652.5,687.8516,656.5,683.8516" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="51.5" x2="658.5" y1="683.8516" y2="683.8516"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="58.5" y="678.7856">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="113" x="80.5" y="678.7856">confirms the data</text><polygon fill="#A80036" points="869.5,708.9844,879.5,712.9844,869.5,716.9844,873.5,712.9844" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="674.5" x2="875.5" y1="712.9844" y2="712.9844"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="681.5" y="707.9185">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="95" x="703.5" y="707.9185">registerClient()</text><polygon fill="#A80036" points="1189,738.1172,1199,742.1172,1189,746.1172,1193,742.1172" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="891.5" x2="1195" y1="742.1172" y2="742.1172"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="898.5" y="737.0513">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="920.5" y="737.0513">registerClient(c)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1216" x2="1258" y1="771.25" y2="771.25"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1258" x2="1258" y1="771.25" y2="784.25"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1217" x2="1258" y1="784.25" y2="784.25"/><polygon fill="#A80036" points="1227,780.25,1217,784.25,1227,788.25,1223,784.25" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1223" y="766.1841">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="103" x="1245" y="766.1841">validateClient(c)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1216" x2="1258" y1="843.3828" y2="843.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1258" x2="1258" y1="843.3828" y2="856.3828"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1217" x2="1258" y1="856.3828" y2="856.3828"/><polygon fill="#A80036" points="1227,852.3828,1217,856.3828,1227,860.3828,1223,856.3828" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1223" y="838.3169">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="77" x="1245" y="838.3169">addClient(c)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="1216" x2="1258" y1="915.5156" y2="915.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1258" x2="1258" y1="915.5156" y2="928.5156"/><line style="stroke:#A80036;stroke-width:1.0;" x1="1217" x2="1258" y1="928.5156" y2="928.5156"/><polygon fill="#A80036" points="1227,924.5156,1217,928.5156,1227,932.5156,1223,928.5156" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="1223" y="910.4497">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="102" x="1245" y="910.4497">registerClient(c)</text><polygon fill="#A80036" points="62.5,983.6484,52.5,987.6484,62.5,991.6484,58.5,987.6484" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="56.5" x2="668.5" y1="987.6484" y2="987.6484"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="18" x="68.5" y="982.5825">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="175" x="90.5" y="982.5825">confirms operation success</text><!--MD5=[61a03992bcc9bc5382d2082bd5e11be7]
@startuml
autonumber
Actor Receptionist

Receptionist -> RegisterClientUI: starts new client
activate RegisterClientUI
RegisterClientUI - -> Receptionist: request client data (i.e. ccn, nhsNumber, birthDate, sex, TIN, phoneNumber, email, name)
deactivate RegisterClientUI

Receptionist -> RegisterClientUI: types requested data
activate RegisterClientUI

RegisterClientUI -> RegisterClientController: b = createClient(clientDTO)

activate RegisterClientController

activate Company
RegisterClientController -> Company: store = getClientStore()
deactivate Company

participant "store ClientStore" as CS
RegisterClientController -> CS: c = createClient(clientDto)

create "c : Client" as Client
participant "clientDto: ClientDto" as ClientDto
activate CS
CS - -> Client : create(clientDto)
activate Client
Client - -> ClientDto : name = getName()
note over Client, ClientDto: several interaction to extract data from DTO omitted
deactivate Client
deactivate CS


RegisterClientController -> CS: validateClient(c)
activate CS
CS - -> Client : email = getEmail()
CS - -> AuthFacade : userExists = authFacade.existsUser(email)
CS - -> CS: !store.contains(c)
activate CS
deactivate CS
deactivate RegisterClientController
deactivate CS

RegisterClientUI - -> RegisterClientController: showClient()
activate RegisterClientController
RegisterClientController - -> CS: showClient(c)
activate CS
CS - -> Client : c.toString
deactivate CS
deactivate RegisterClientController

RegisterClientUI - -> Receptionist: shows the data and requests confirmation
deactivate RegisterClientUI

Receptionist -> RegisterClientUI: confirms the data

activate RegisterClientUI
RegisterClientUI -> RegisterClientController: registerClient()

activate RegisterClientController
RegisterClientController -> CS: registerClient(c)

activate CS
CS -> CS: validateClient(c)
activate CS
deactivate CS
CS -> CS: addClient(c)
activate CS
deactivate CS
CS -> CS: registerClient(c)
activate CS
deactivate CS
deactivate RegisterClientController
deactivate CS

RegisterClientUI - -> Receptionist: confirms operation success
deactivate RegisterClientUI
@enduml

PlantUML version 1.2020.22(Sun Dec 06 09:36:27 UTC 2020)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>