<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1756px" preserveAspectRatio="none" style="width:2340px;height:1756px;background:#FFFFFF;" version="1.1" viewBox="0 0 2340 1756" width="2340px" zoomAndPan="magnify"><defs><filter height="300%" id="f1ow7lwnv1z0h6" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><text fill="#000000" font-family="sans-serif" font-size="18" font-weight="bold" lengthAdjust="spacing" textLength="279" x="1028.25" y="28.708">SendNhsReportTask [run()]</text><text fill="#000000" font-family="sans-serif" font-size="18" lengthAdjust="spacing" textLength="0" x="1170.75" y="49.6611"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="1556.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="112.5" y="122.5"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="117.5" y="180.7656"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="117.5" y="1615.1641"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="119.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="418.5" y="1280.9375"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="703.5" y="374.7266"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="703.5" y="433.8594"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="90.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="703.5" y="774.8203"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="492.9922"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="552.125"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="611.2578"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="670.3906"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1012.9453"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1072.0781"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1131.2109"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1429.7656"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="894.6797"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="953.8125"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2106" y="1488.8984"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2261.5" y="1548.0313"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="117" x2="117" y1="112.5" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="423.5" x2="423.5" y1="340.9453" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="708" x2="708" y1="112.5" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="834.5" x2="834.5" y1="112.5" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="968.5" x2="968.5" y1="741.0391" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1140.5" x2="1140.5" y1="823.6172" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1329.5" x2="1329.5" y1="1201.8594" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1572.5" x2="1572.5" y1="1247.1563" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="1869.5" x2="1869.5" y1="1366.8516" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2110.5" x2="2110.5" y1="112.5" y2="1697.2969"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:5.0,5.0;" x1="2266.5" x2="2266.5" y1="112.5" y2="1697.2969"/><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="157" x="37" y="77.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="44" y="97.1982">SendNhsReportTask</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="157" x="37" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="44" y="1716.292">SendNhsReportTask</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="218" x="312.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="319.5" y="1716.292">lrm : Linear Regression Model</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="667" y="77.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="674" y="97.1982">Company</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="79" x="667" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="65" x="674" y="1716.292">Company</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="86" x="789.5" y="77.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="796.5" y="97.1982">Test Store</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="86" x="789.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="72" x="796.5" y="1716.292">Test Store</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="154" x="889.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="896.5" y="1716.292">mds : ModelDataSet</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1057.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1064.5" y="1716.292">ed : Estimation Dates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1100.5" y="1732.5889">List&lt;Date&gt;</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="188" x="1233.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1240.5" y="1716.292">eds : Estimation Data Set</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="270" x="1435.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="1442.5" y="1716.292">lrInDto : Linear Regression Input DTO</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="296" x="1719.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="1726.5" y="1716.292">lrOutDto : Linear Regression Output DTO</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="159" x="2029.5" y="77.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="2036.5" y="97.1982">Covid-19 NHS Report</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="159" x="2029.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="145" x="2036.5" y="1716.292">Covid-19 NHS Report</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="2202.5" y="77.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="2209.5" y="97.1982">Report2NHS API</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="124" x="2202.5" y="1696.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="2209.5" y="1716.292">Report2NHS API</text><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="1556.7969" style="stroke:#A80036;stroke-width:1.0;" width="10" x="112.5" y="122.5"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="117.5" y="180.7656"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="28" style="stroke:#A80036;stroke-width:1.0;" width="10" x="117.5" y="1615.1641"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="119.6953" style="stroke:#A80036;stroke-width:1.0;" width="10" x="418.5" y="1280.9375"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="703.5" y="374.7266"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="703.5" y="433.8594"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="90.7266" style="stroke:#A80036;stroke-width:1.0;" width="10" x="703.5" y="774.8203"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="492.9922"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="552.125"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="611.2578"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="670.3906"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1012.9453"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1072.0781"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1131.2109"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="829.5" y="1429.7656"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="894.6797"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="1135.5" y="953.8125"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2106" y="1488.8984"/><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="30" style="stroke:#A80036;stroke-width:1.0;" width="10" x="2261.5" y="1548.0313"/><ellipse cx="7.5" cy="142.8828" rx="4" ry="4" style="stroke:#A80036;stroke-width:1.5;fill:none;"/><polygon fill="#A80036" points="100.5,139.6328,110.5,143.6328,100.5,147.6328,104.5,143.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="12" x2="106.5" y1="143.6328" y2="143.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="15" y="138.5669">1</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="31" x="28" y="138.5669">run()</text><line style="stroke:#A80036;stroke-width:1.0;" x1="127.5" x2="169.5" y1="172.7656" y2="172.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="169.5" x2="169.5" y1="172.7656" y2="185.7656"/><line style="stroke:#A80036;stroke-width:1.0;" x1="128.5" x2="169.5" y1="185.7656" y2="185.7656"/><polygon fill="#A80036" points="138.5,181.7656,128.5,185.7656,138.5,189.7656,134.5,185.7656" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="134.5" y="167.6997">2</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="123" x="147.5" y="167.6997">getConfigurations()</text><path d="M5,228.7656 L5,298.7656 L226,298.7656 L226,238.7656 L216,228.7656 L5,228.7656 " fill="#FBFB77" filter="url(#f1ow7lwnv1z0h6)" style="stroke:#A80036;stroke-width:1.0;"/><path d="M216,228.7656 L216,238.7656 L226,238.7656 L216,228.7656 " fill="#FBFB77" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="162" x="11" y="245.8325">It retrieves the properties</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="142" x="11" y="260.9653">from the configuration</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="88" x="11" y="276.0981">file, through a</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="200" x="11" y="291.231">class responsible for handling it</text><polygon fill="#A80036" points="300.5,325.4297,310.5,329.4297,300.5,333.4297,304.5,329.4297" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="306.5" y1="329.4297" y2="329.4297"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="324.3638">3</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="142.5" y="324.3638">create()</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="218" x="312.5" y="308.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="319.5" y="328.292">lrm : Linear Regression Model</text><polygon fill="#A80036" points="691.5,370.7266,701.5,374.7266,691.5,378.7266,695.5,374.7266" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="697.5" y1="374.7266" y2="374.7266"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="369.6606">4</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="510" x="142.5" y="369.6606">dataSetDays = getWorkingDaysForInterval(dataSetStartDate, dataSetEndDate)</text><polygon fill="#A80036" points="691.5,429.8594,701.5,433.8594,691.5,437.8594,695.5,433.8594" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="697.5" y1="433.8594" y2="433.8594"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="428.7935">5</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="172" x="142.5" y="428.7935">testStore = getTestStore()</text><polygon fill="#A80036" points="817.5,488.9922,827.5,492.9922,817.5,496.9922,821.5,492.9922" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="492.9922" y2="492.9922"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="487.9263">6</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="476" x="142.5" y="487.9263">covidTests = getCovidTestsInInterval (dataSetStartDate, dataSetEndDate)</text><polygon fill="#A80036" points="817.5,548.125,827.5,552.125,817.5,556.125,821.5,552.125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="552.125" y2="552.125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="547.0591">7</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="502" x="142.5" y="547.0591">performedTests = getNumberOfCovidTestsInInterval(dataSetDays, covidTests)</text><polygon fill="#A80036" points="817.5,607.2578,827.5,611.2578,817.5,615.2578,821.5,611.2578" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="611.2578" y2="611.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="606.1919">8</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="546" x="142.5" y="606.1919">positiveTests = getNumberOfPositiveCovidTestsForInterval (dataSetDays, covidTests)</text><polygon fill="#A80036" points="817.5,666.3906,827.5,670.3906,817.5,674.3906,821.5,670.3906" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="670.3906" y2="670.3906"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="9" x="129.5" y="665.3247">9</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="477" x="142.5" y="665.3247">meanAges = getMeanAgeCovidTestsForInterval (dataSetDays, covidTests)</text><polygon fill="#A80036" points="877.5,725.5234,887.5,729.5234,877.5,733.5234,881.5,729.5234" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="883.5" y1="729.5234" y2="729.5234"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="724.4575">10</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="320" x="151.5" y="724.4575">create(meanAges, performedTests, positiveTests)</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="154" x="889.5" y="708.3906"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="140" x="896.5" y="728.3857">mds : ModelDataSet</text><polygon fill="#A80036" points="691.5,770.8203,701.5,774.8203,691.5,778.8203,695.5,774.8203" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="697.5" y1="774.8203" y2="774.8203"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="769.7544">11</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="540" x="151.5" y="769.7544">estimationDates = getWorkingDaysForInterval(referenceDate (now), historicalPoints)</text><polygon fill="#A80036" points="1045.5,799.9531,1055.5,803.9531,1045.5,807.9531,1049.5,803.9531" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="713.5" x2="1051.5" y1="803.9531" y2="803.9531"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="720.5" y="798.8872">12</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="51" x="742.5" y="798.8872">create()</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="46.5938" style="stroke:#A80036;stroke-width:1.5;" width="162" x="1057.5" y="782.8203"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="1064.5" y="802.8154">ed : Estimation Dates</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="80" x="1100.5" y="819.1123">List&lt;Date&gt;</text><polygon fill="#A80036" points="133.5,861.5469,123.5,865.5469,133.5,869.5469,129.5,865.5469" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="127.5" x2="707.5" y1="865.5469" y2="865.5469"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="139.5" y="860.481">13</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="16" x="161.5" y="860.481">ed</text><polygon fill="#A80036" points="1123.5,890.6797,1133.5,894.6797,1123.5,898.6797,1127.5,894.6797" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="1129.5" y1="894.6797" y2="894.6797"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="889.6138">14</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="119" x="151.5" y="889.6138">startDate = get(0)</text><polygon fill="#A80036" points="1123.5,949.8125,1133.5,953.8125,1123.5,957.8125,1127.5,953.8125" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="1129.5" y1="953.8125" y2="953.8125"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="948.7466">15</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="181" x="151.5" y="948.7466">endDate = get(ed.size() - 1)</text><polygon fill="#A80036" points="817.5,1008.9453,827.5,1012.9453,817.5,1016.9453,821.5,1012.9453" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="1012.9453" y2="1012.9453"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1007.8794">16</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="434" x="151.5" y="1007.8794">testsForEstimation = getWorkingDaysInInterval(startDate, endDate)</text><polygon fill="#A80036" points="817.5,1068.0781,827.5,1072.0781,817.5,1076.0781,821.5,1072.0781" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="1072.0781" y2="1072.0781"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1067.0122">17</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="651" x="151.5" y="1067.0122">meanAgesForEstimation = getMeanAgeOfCovidTestsForInterval(estimationDates, testsForEstimation)</text><polygon fill="#A80036" points="817.5,1127.2109,827.5,1131.2109,817.5,1135.2109,821.5,1131.2109" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="1131.2109" y2="1131.2109"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1126.145">18</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="666" x="151.5" y="1126.145">performedTestsForEstimation = getNumberOfCovidTestsInInterval(estimationDates, testsForEstimation)</text><polygon fill="#A80036" points="1221.5,1186.3438,1231.5,1190.3438,1221.5,1194.3438,1225.5,1190.3438" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="1227.5" y1="1190.3438" y2="1190.3438"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1185.2778">19</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="409" x="151.5" y="1185.2778">create (meanAgesForEstimation, performedTestsForEstimation)</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="188" x="1233.5" y="1169.2109"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="174" x="1240.5" y="1189.2061">eds : Estimation Data Set</text><polygon fill="#A80036" points="1423.5,1231.6406,1433.5,1235.6406,1423.5,1239.6406,1427.5,1235.6406" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="1429.5" y1="1235.6406" y2="1235.6406"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1230.5747">20</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="528" x="151.5" y="1230.5747">create(mds, eds, confidenceIntervalAlpha, hypothesisTestAlpha, significanceAlpha)</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="270" x="1435.5" y="1214.5078"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="256" x="1442.5" y="1234.5029">lrInDto : Linear Regression Input DTO</text><polygon fill="#A80036" points="406.5,1276.9375,416.5,1280.9375,406.5,1284.9375,410.5,1280.9375" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="412.5" y1="1280.9375" y2="1280.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1275.8716">21</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="255" x="151.5" y="1275.8716">lrOutDto = getLinearRegression(lrInDto)</text><rect fill="#FFFFFF" filter="url(#f1ow7lwnv1z0h6)" height="40.2656" style="stroke:#000000;stroke-width:2.0;" width="224" x="309.5" y="1288.9375"/><polygon fill="#EEEEEE" points="309.5,1288.9375,375.5,1288.9375,375.5,1295.9375,365.5,1305.9375,309.5,1305.9375,309.5,1288.9375" style="stroke:#000000;stroke-width:2.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="21" x="322.5" y="1303.0044">ref</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="151" x="348" y="1322.0044">US19_LinearRegression</text><polygon fill="#A80036" points="1707.5,1351.3359,1717.5,1355.3359,1707.5,1359.3359,1711.5,1355.3359" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="428.5" x2="1713.5" y1="1355.3359" y2="1355.3359"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="435.5" y="1350.27">22</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="676" x="457.5" y="1350.27">create(stats, significanceModel, hypothesisTest, confidenceIntervalAlpha, predictions, confidenceIntervals)</text><rect fill="#FEFECE" filter="url(#f1ow7lwnv1z0h6)" height="30.2969" style="stroke:#A80036;stroke-width:1.5;" width="296" x="1719.5" y="1334.2031"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="282" x="1726.5" y="1354.1982">lrOutDto : Linear Regression Output DTO</text><polygon fill="#A80036" points="133.5,1396.6328,123.5,1400.6328,133.5,1404.6328,129.5,1400.6328" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="127.5" x2="422.5" y1="1400.6328" y2="1400.6328"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="139.5" y="1395.5669">23</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="54" x="161.5" y="1395.5669">lrOutDto</text><polygon fill="#A80036" points="817.5,1425.7656,827.5,1429.7656,817.5,1433.7656,821.5,1429.7656" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="823.5" y1="1429.7656" y2="1429.7656"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1424.6997">24</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="630" x="151.5" y="1424.6997">observedPositiveResults = getDailyNumberOfPositiveCovidTestsForInterval(ed, testsForEstimation)</text><polygon fill="#A80036" points="2094,1484.8984,2104,1488.8984,2094,1492.8984,2098,1488.8984" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="2100" y1="1488.8984" y2="1488.8984"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1483.8325">25</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="426" x="151.5" y="1483.8325">report = createCovidReport(lrOutDto, ed, observedPositiveResults)</text><polygon fill="#A80036" points="2249.5,1544.0313,2259.5,1548.0313,2249.5,1552.0313,2253.5,1548.0313" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;" x1="122.5" x2="2255.5" y1="1548.0313" y2="1548.0313"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="129.5" y="1542.9653">26</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="173" x="151.5" y="1542.9653">writeUsingFileWriter(report)</text><line style="stroke:#A80036;stroke-width:1.0;" x1="127.5" x2="169.5" y1="1607.1641" y2="1607.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="169.5" x2="169.5" y1="1607.1641" y2="1620.1641"/><line style="stroke:#A80036;stroke-width:1.0;" x1="128.5" x2="169.5" y1="1620.1641" y2="1620.1641"/><polygon fill="#A80036" points="138.5,1616.1641,128.5,1620.1641,138.5,1624.1641,134.5,1620.1641" style="stroke:#A80036;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="134.5" y="1602.0981">27</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="65" x="156.5" y="1602.0981">logEvent()</text><polygon fill="#A80036" points="11,1675.2969,1,1679.2969,11,1683.2969,7,1679.2969" style="stroke:#A80036;stroke-width:1.0;"/><line style="stroke:#A80036;stroke-width:1.0;stroke-dasharray:2.0,2.0;" x1="5" x2="116.5" y1="1679.2969" y2="1679.2969"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacing" textLength="18" x="17" y="1674.231">28</text><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="0" x="43" y="1674.231"/><!--MD5=[d074965529af7cd62a84e278ed2d8c7e]
@startuml
autonumber
title **SendNhsReportTask [run()]**\n

participant "SendNhsReportTask" as task
 activate task
[o-> task : run()
  
  task -> task : getConfigurations()
  note over task : It retrieves the properties \nfrom the configuration \nfile, through a \nclass responsible for handling it
  activate task
  deactivate task
  
  create "lrm : Linear Regression Model" as LRM
  task -> LRM : create()
  
    participant Company
  participant "Test Store" as ts
  task -> Company : dataSetDays = getWorkingDaysForInterval(dataSetStartDate, dataSetEndDate)
  activate Company
  deactivate Company
  
  task -> Company : testStore = getTestStore()
  activate Company
  deactivate Company
  
  task -> ts : covidTests = getCovidTestsInInterval (dataSetStartDate, dataSetEndDate)
  activate ts
  deactivate ts
  
  task -> ts : performedTests = getNumberOfCovidTestsInInterval(dataSetDays, covidTests)
  activate ts
  deactivate ts
  
  task -> ts : positiveTests = getNumberOfPositiveCovidTestsForInterval (dataSetDays, covidTests)
  activate ts
  deactivate ts
  
  task -> ts : meanAges = getMeanAgeCovidTestsForInterval (dataSetDays, covidTests)
  activate ts
  deactivate ts
  
  create "mds : ModelDataSet" as ds
  task -> ds : create(meanAges, performedTests, positiveTests)
  
   
    
    task -> Company : estimationDates = getWorkingDaysForInterval(referenceDate (now), historicalPoints)
  activate Company
  create "ed : Estimation Dates\n List<Date>" as ed
  Company -> ed : create()
  Company - -> task : ed
  
  deactivate Company
  
  task -> ed : startDate = get(0)
  activate ed
  deactivate ed
  
  task -> ed : endDate = get(ed.size() - 1)
  activate ed
  deactivate ed
  
  task -> ts : testsForEstimation = getWorkingDaysInInterval(startDate, endDate)
  activate ts
  deactivate ts
  
  task -> ts : meanAgesForEstimation = getMeanAgeOfCovidTestsForInterval(estimationDates, testsForEstimation)
  activate ts
  deactivate ts
  
  task -> ts : performedTestsForEstimation = getNumberOfCovidTestsInInterval(estimationDates, testsForEstimation)
  activate ts
  deactivate ts
  
  create "eds : Estimation Data Set" as eds
  task -> eds : create (meanAgesForEstimation, performedTestsForEstimation)
  
  create "lrInDto : Linear Regression Input DTO" as inDto
  task -> inDto : create(mds, eds, confidenceIntervalAlpha, hypothesisTestAlpha, significanceAlpha)
  
  task -> LRM : lrOutDto = getLinearRegression(lrInDto)
  activate LRM
  ref over LRM : US19_LinearRegression
  
  create "lrOutDto : Linear Regression Output DTO" as outDto
  LRM -> outDto : create(stats, significanceModel, hypothesisTest, confidenceIntervalAlpha, predictions, confidenceIntervals)
  
  LRM - -> task : lrOutDto 
  deactivate LRM
  
  task -> ts : observedPositiveResults = getDailyNumberOfPositiveCovidTestsForInterval(ed, testsForEstimation)
  activate ts
  deactivate ts
  
  participant "Covid-19 NHS Report" as report
  
  task -> report : report = createCovidReport(lrOutDto, ed, observedPositiveResults)
  activate report
  deactivate report
  
  participant "Report2NHS API" as api
  task -> api : writeUsingFileWriter(report)
  activate api
  deactivate api
  
  task -> task : logEvent()
  activate task
  deactivate task
  
  

  
  [<- - task : 
  deactivate task
@enduml

PlantUML version 1.2021.7(Sun May 23 12:40:07 UTC 2021)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>